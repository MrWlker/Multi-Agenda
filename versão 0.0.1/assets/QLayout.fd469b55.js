import{k as x,c,h as u,i as j,l as $,m as B,y as M,z as K,g as q,w as L,o as N,p as U,A as V,B as k,r as p,n as D,C as T,a as I}from"./index.5cf871b0.js";import{a as O,h as _}from"./dom.bf81c507.js";import{s as G,g as J,a as X,b as Y,c as P,Q as E}from"./scroll.e7411eb5.js";var le=x({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:f}){const n=c(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>u("div",{class:n.value,role:"toolbar"},O(f.default))}}),ie=x({name:"QPageContainer",setup(e,{slots:f}){const{proxy:{$q:n}}=q(),o=j(B,$);if(o===$)return console.error("QPageContainer needs to be child of QLayout"),$;M(K,!0);const r=c(()=>{const a={};return o.header.space===!0&&(a.paddingTop=`${o.header.size}px`),o.right.space===!0&&(a[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(a.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(a[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),a});return()=>u("div",{class:"q-page-container",style:r.value},O(f.default))}});const{passive:F}=k,Z=["both","horizontal","vertical"];var ee=x({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Z.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:G},emits:["scroll"],setup(e,{emit:f}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,r,a;L(()=>e.scrollTarget,()=>{g(),b()});function d(){o!==null&&o();const h=Math.max(0,X(r)),m=Y(r),s={top:h-n.position.top,left:m-n.position.left};if(e.axis==="vertical"&&s.top===0||e.axis==="horizontal"&&s.left===0)return;const w=Math.abs(s.top)>=Math.abs(s.left)?s.top<0?"up":"down":s.left<0?"left":"right";n.position={top:h,left:m},n.directionChanged=n.direction!==w,n.delta=s,n.directionChanged===!0&&(n.direction=w,n.inflectionPoint=n.position),f("scroll",{...n})}function b(){r=J(a,e.scrollTarget),r.addEventListener("scroll",i,F),i(!0)}function g(){r!==void 0&&(r.removeEventListener("scroll",i,F),r=void 0)}function i(h){if(h===!0||e.debounce===0||e.debounce==="0")d();else if(o===null){const[m,s]=e.debounce?[setTimeout(d,e.debounce),clearTimeout]:[requestAnimationFrame(d),cancelAnimationFrame];o=()=>{s(m),o=null}}}const{proxy:y}=q();return L(()=>y.$q.lang.rtl,d),N(()=>{a=y.$el.parentNode,b()}),U(()=>{o!==null&&o(),g()}),Object.assign(y,{trigger:i,getPosition:()=>n}),V}}),re=x({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:f,emit:n}){const{proxy:{$q:o}}=q(),r=p(null),a=p(o.screen.height),d=p(e.container===!0?0:o.screen.width),b=p({position:0,direction:"down",inflectionPoint:0}),g=p(0),i=p(D.value===!0?0:P()),y=c(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),h=c(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),m=c(()=>i.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),s=c(()=>i.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function w(t){if(e.container===!0||document.qScrollPrevented!==!0){const l={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};b.value=l,e.onScroll!==void 0&&n("scroll",l)}}function W(t){const{height:l,width:v}=t;let S=!1;a.value!==l&&(S=!0,a.value=l,e.onScrollHeight!==void 0&&n("scrollHeight",l),Q()),d.value!==v&&(S=!0,d.value=v),S===!0&&e.onResize!==void 0&&n("resize",t)}function A({height:t}){g.value!==t&&(g.value=t,Q())}function Q(){if(e.container===!0){const t=a.value>g.value?P():0;i.value!==t&&(i.value=t)}}let z=null;const R={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:r,height:a,containerHeight:g,scrollbarWidth:i,totalWidth:c(()=>d.value+i.value),rows:c(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:T({size:0,offset:0,space:!1}),right:T({size:300,offset:0,space:!1}),footer:T({size:0,offset:0,space:!1}),left:T({size:300,offset:0,space:!1}),scroll:b,animate(){z!==null?clearTimeout(z):document.body.classList.add("q-body--layout-animate"),z=setTimeout(()=>{z=null,document.body.classList.remove("q-body--layout-animate")},155)},update(t,l,v){R[t][l]=v}};if(M(B,R),P()>0){let v=function(){t=null,l.classList.remove("hide-scrollbar")},S=function(){if(t===null){if(l.scrollHeight>o.screen.height)return;l.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(v,300)},C=function(H){t!==null&&H==="remove"&&(clearTimeout(t),v()),window[`${H}EventListener`]("resize",S)},t=null;const l=document.body;L(()=>e.container!==!0?"add":"remove",C),e.container!==!0&&C("add"),I(()=>{C("remove")})}return()=>{const t=_(f.default,[u(ee,{onScroll:w}),u(E,{onResize:W})]),l=u("div",{class:y.value,style:h.value,ref:e.container===!0?void 0:r,tabindex:-1},t);return e.container===!0?u("div",{class:"q-layout-container overflow-hidden",ref:r},[u(E,{onResize:A}),u("div",{class:"absolute-full",style:m.value},[u("div",{class:"scroll",style:s.value},[l])])]):l}}});export{re as Q,le as a,ie as b};
