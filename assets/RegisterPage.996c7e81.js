import{c as G,d as J,b as X,Q as f}from"./QInput.e124ee05.js";import{f as W,h as Y,Q as T,v as $,c as F}from"./QBtn.e69fa29f.js";import{r as A,c as b,h as p,g as O,ab as k,I as B,k as j,y as ee,M as te,N as oe,o as le,G as re,a4 as se,t as D,u as ne,v as N,f as a,ac as ue,$ as Q,a2 as h,a1 as R}from"./index.5cf871b0.js";import{a as ae,u as ie,Q as de}from"./QPage.e1be70ef.js";import{h as ce,a as M}from"./dom.bf81c507.js";import{Q as me}from"./QCard.fa02f27c.js";import{_ as fe}from"./plugin-vue_export-helper.21dcd24c.js";function be(t,s){const e=A(null),i=b(()=>t.disable===!0?null:p("span",{ref:e,class:"no-outline",tabindex:-1}));function o(l){const r=s.value;l!==void 0&&l.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():e.value!==null&&(l===void 0||r!==null&&r.contains(l.target)===!0)&&e.value.focus()}return{refocusTargetEl:i,refocusTarget:o}}var ve={xs:30,sm:35,md:40,lg:50,xl:60};const pe={...ie,...Y,...G,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},ge=["update:modelValue"];function he(t,s){const{props:e,slots:i,emit:o,proxy:l}=O(),{$q:r}=l,S=ae(e,r),C=A(null),{refocusTargetEl:P,refocusTarget:I}=be(e,C),y=W(e,ve),x=b(()=>e.val!==void 0&&Array.isArray(e.modelValue)),n=b(()=>{const u=k(e.val);return x.value===!0?e.modelValue.findIndex(V=>k(V)===u):-1}),c=b(()=>x.value===!0?n.value!==-1:k(e.modelValue)===k(e.trueValue)),g=b(()=>x.value===!0?n.value===-1:k(e.modelValue)===k(e.falseValue)),w=b(()=>c.value===!1&&g.value===!1),E=b(()=>e.disable===!0?-1:e.tabindex||0),U=b(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(S.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),d=b(()=>{const u=c.value===!0?"truthy":g.value===!0?"falsy":"indet",V=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?c.value===!0:g.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${u}${V}`}),m=b(()=>{const u={type:"checkbox"};return e.name!==void 0&&Object.assign(u,{".checked":c.value,"^checked":c.value===!0?"checked":void 0,name:e.name,value:x.value===!0?e.val:e.trueValue}),u}),v=J(m),_=b(()=>{const u={tabindex:E.value,role:t==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":w.value===!0?"mixed":c.value===!0?"true":"false"};return e.disable===!0&&(u["aria-disabled"]="true"),u});function q(u){u!==void 0&&(B(u),I(u)),e.disable!==!0&&o("update:modelValue",Z(),u)}function Z(){if(x.value===!0){if(c.value===!0){const u=e.modelValue.slice();return u.splice(n.value,1),u}return e.modelValue.concat([e.val])}if(c.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(g.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function K(u){(u.keyCode===13||u.keyCode===32)&&B(u)}function L(u){(u.keyCode===13||u.keyCode===32)&&q(u)}const H=s(c,w);return Object.assign(l,{toggle:q}),()=>{const u=H();e.disable!==!0&&v(u,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const V=[p("div",{class:d.value,style:y.value,"aria-hidden":"true"},u)];P.value!==null&&V.push(P.value);const z=e.label!==void 0?ce(i.default,[e.label]):M(i.default);return z!==void 0&&V.push(p("div",{class:`q-${t}__label q-anchor--skip`},z)),p("div",{ref:C,class:U.value,..._.value,onClick:q,onKeydown:K,onKeyup:L},V)}}const xe=p("div",{key:"svg",class:"q-checkbox__bg absolute"},[p("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[p("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),p("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Ve=j({name:"QCheckbox",props:pe,emits:ge,setup(t){function s(e,i){const o=b(()=>(e.value===!0?t.checkedIcon:i.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>o.value!==null?[p("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[p(T,{class:"q-checkbox__icon",name:o.value})])]:[xe]}return he("checkbox",s)}}),ye=j({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:s,emit:e}){const i=O(),o=A(null);let l=0;const r=[];function S(n){const c=typeof n=="boolean"?n:t.noErrorFocus!==!0,g=++l,w=(d,m)=>{e(`validation${d===!0?"Success":"Error"}`,m)},E=d=>{const m=d.validate();return typeof m.then=="function"?m.then(v=>({valid:v,comp:d}),v=>({valid:!1,comp:d,err:v})):Promise.resolve({valid:m,comp:d})};return(t.greedy===!0?Promise.all(r.map(E)).then(d=>d.filter(m=>m.valid!==!0)):r.reduce((d,m)=>d.then(()=>E(m).then(v=>{if(v.valid===!1)return Promise.reject(v)})),Promise.resolve()).catch(d=>[d])).then(d=>{if(d===void 0||d.length===0)return g===l&&w(!0),!0;if(g===l){const{comp:m,err:v}=d[0];if(v!==void 0&&console.error(v),w(!1,m),c===!0){const _=d.find(({comp:q})=>typeof q.focus=="function"&&$(q.$)===!1);_!==void 0&&_.comp.focus()}}return!1})}function C(){l++,r.forEach(n=>{typeof n.resetValidation=="function"&&n.resetValidation()})}function P(n){n!==void 0&&B(n);const c=l+1;S().then(g=>{c===l&&g===!0&&(t.onSubmit!==void 0?e("submit",n):n!==void 0&&n.target!==void 0&&typeof n.target.submit=="function"&&n.target.submit())})}function I(n){n!==void 0&&B(n),e("reset"),re(()=>{C(),t.autofocus===!0&&t.noResetFocus!==!0&&y()})}function y(){X(()=>{if(o.value===null)return;const n=o.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),c=>c.tabIndex!==-1);n!=null&&n.focus({preventScroll:!0})})}ee(se,{bindComponent(n){r.push(n)},unbindComponent(n){const c=r.indexOf(n);c!==-1&&r.splice(c,1)}});let x=!1;return te(()=>{x=!0}),oe(()=>{x===!0&&t.autofocus===!0&&y()}),le(()=>{t.autofocus===!0&&y()}),Object.assign(i.proxy,{validate:S,resetValidation:C,submit:P,reset:I,focus:y,getValidationComponents:()=>r}),()=>p("form",{class:"q-form",ref:o,onSubmit:P,onReset:I},M(s.default))}});const qe={data(){return{step:1,form:{firstName:"",birthDate:"",cpf:"",phone:"",email:"",password:"",confirmPassword:"",address:"",number:"",neighborhood:"",city:"",state:"",zipCode:"",noNumber:!1}}},methods:{nextStep(){this.step===1&&this.$refs.form.validate()&&(this.step=2)},prevStep(){this.step=1},navigateTo(t){this.$router.push({name:t})},required(t){return t&&t.length>0||"Campo deve ser preenchido!"},diffPassword(t){return t&&t===this.form.password||"Senhas n\xE3o combinam!"},short(t){return t&&t.length>3||"Senha \xE9 muito pequena!"},switchVisibility(){this.visibility=!this.visibility,this.passwordFieldType=this.visibility?"text":"password",this.visibilityIcon=this.visibility?"visibility_off":"visibility"},isEmail(t){return/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/.test(t)||"Digite um e-mail v\xE1lido!"},isCPF(t){if(!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(t))return"Digite um CPF v\xE1lido";let e,i;if(e=0,t==="000.000.000-00"||t==="111.111.111-11"||t==="222.222.222-22"||t==="333.333.333-33"||t==="444.444.444-44"||t==="555.555.555-55"||t==="666.666.666-66"||t==="777.777.777-77"||t==="888.888.888-88"||t==="999.999.999-99")return"Digite um CPF v\xE1lido";const o=t.replace(/[^\d]+/g,"");for(let l=1;l<=9;l++)e=e+parseInt(o.substring(l-1,l))*(11-l);if(i=e*10%11,(i===10||i===11)&&(i=0),i!==parseInt(o.substring(9,10)))return"Digite um CPF v\xE1lido";e=0;for(let l=1;l<=10;l++)e=e+parseInt(o.substring(l-1,l))*(12-l);return i=e*10%11,(i===10||i===11)&&(i=0),i!==parseInt(o.substring(10,11))?"Digite um CPF v\xE1lido":!0},async fetchAddressData(){const t=this.form.zipCode.replace(/\D/g,"");if(t.length!==8){this.$q.notify({color:"negative",message:"CEP inv\xE1lido"});return}try{const e=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();e.erro?this.$q.notify({color:"negative",message:"CEP n\xE3o encontrado"}):(this.form.address=e.logradouro,this.form.neighborhood=e.bairro,this.form.city=e.localidade,this.form.state=e.uf)}catch{this.$q.notify({color:"negative",message:"Erro ao buscar CEP"})}},register(){console.log("Registro realizado:",this.form)}}},ke=h("div",{class:"text-center q-mb-md"},[h("img",{src:"https://hs.multivix.edu.br/hs-fs/hubfs/acertou-na-mosca/logo.png?width=1058&name=logo.png",alt:"MULTIVIX",style:{"max-width":"100%"}})],-1),Ce={key:0},Pe=h("div",{class:"title-container text-center q-mb-md"},[h("div",{class:"title-text"},"Cadastro"),h("div",{class:"title-text"},"Dados Pessoais")],-1),we={class:"text-center q-mt-md"},Se={key:1},Ie=h("div",{class:"title-container text-center q-mb-md"},[h("div",{class:"title-text"},"Cadastro"),h("div",{class:"title-text"},"Endere\xE7o")],-1);function Ee(t,s,e,i,o,l){return D(),ne(de,{class:"flex flex-center q-pa-md"},{default:N(()=>[a(me,{class:"q-pa-md",style:{width:"400px"}},{default:N(()=>[ke,a(ye,{onSubmit:ue(l.nextStep,["prevent"]),ref:"form",class:"q-gutter-xs custom-gutter"},{default:N(()=>[o.step===1?(D(),Q("div",Ce,[Pe,a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.firstName,"onUpdate:modelValue":s[0]||(s[0]=r=>o.form.firstName=r),label:"Nome Completo",rules:[l.required]},null,8,["modelValue","rules"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.birthDate,"onUpdate:modelValue":s[1]||(s[1]=r=>o.form.birthDate=r),label:"Data de Nascimento",type:"date",rules:[l.required]},null,8,["modelValue","rules"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.cpf,"onUpdate:modelValue":s[2]||(s[2]=r=>o.form.cpf=r),label:"CPF",mask:"###.###.###-##",rules:[l.required,l.isCPF]},null,8,["modelValue","rules"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.phone,"onUpdate:modelValue":s[3]||(s[3]=r=>o.form.phone=r),label:"Telefone",mask:"(##) #####-####",rules:[l.required]},null,8,["modelValue","rules"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.email,"onUpdate:modelValue":s[4]||(s[4]=r=>o.form.email=r),label:"Email",type:"email",rules:[l.required,l.isEmail]},null,8,["modelValue","rules"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.password,"onUpdate:modelValue":s[5]||(s[5]=r=>o.form.password=r),ref:"password",label:"Senha",type:"password",rules:[l.required,l.short]},{append:N(()=>[a(T,{name:t.visibilityIcon,onClick:l.switchVisibility,class:"cursor-pointer"},null,8,["name","onClick"])]),_:1},8,["modelValue","rules"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.confirmPassword,"onUpdate:modelValue":s[6]||(s[6]=r=>o.form.confirmPassword=r),label:"Confirma\xE7\xE3o de Senha",type:"password",rules:[l.required,l.diffPassword]},null,8,["modelValue","rules"]),a(F,{class:"mtvx",rounded:"",outlined:"",label:"Pr\xF3xima etapa",type:"submit",style:{width:"100%"}}),h("div",we,[a(F,{flat:"",label:"J\xE1 tem uma conta? Clique aqui para entrar.",color:"grey",onClick:s[7]||(s[7]=r=>l.navigateTo("login"))})])])):R("",!0),o.step===2?(D(),Q("div",Se,[Ie,a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.zipCode,"onUpdate:modelValue":s[8]||(s[8]=r=>o.form.zipCode=r),label:"CEP",mask:"#####-###",rules:[l.required],onBlur:l.fetchAddressData},null,8,["modelValue","rules","onBlur"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.address,"onUpdate:modelValue":s[9]||(s[9]=r=>o.form.address=r),label:"Endere\xE7o",rules:[l.required]},null,8,["modelValue","rules"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.number,"onUpdate:modelValue":s[10]||(s[10]=r=>o.form.number=r),label:"N\xFAmero",disable:o.form.noNumber},null,8,["modelValue","disable"]),a(Ve,{class:"custom-checkbox q-mb-xs",modelValue:o.form.noNumber,"onUpdate:modelValue":s[11]||(s[11]=r=>o.form.noNumber=r),label:"N\xE3o possui n\xFAmero",color:"red"},null,8,["modelValue"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.neighborhood,"onUpdate:modelValue":s[12]||(s[12]=r=>o.form.neighborhood=r),label:"Bairro",rules:[l.required]},null,8,["modelValue","rules"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.city,"onUpdate:modelValue":s[13]||(s[13]=r=>o.form.city=r),label:"Cidade",rules:[l.required]},null,8,["modelValue","rules"]),a(f,{class:"q-mb-xs custom-input",rounded:"",outlined:"",modelValue:o.form.state,"onUpdate:modelValue":s[14]||(s[14]=r=>o.form.state=r),label:"Estado",rules:[l.required]},null,8,["modelValue","rules"]),a(F,{rounded:"",outlined:"",label:"Etapa Anterior",color:"grey",onClick:l.prevStep,style:{width:"49%"}},null,8,["onClick"]),a(F,{class:"mtvx",rounded:"",outlined:"",label:"Registrar",type:"submit",style:{width:"49%"},onClick:l.register},null,8,["onClick"])])):R("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1})}var ze=fe(qe,[["render",Ee]]);export{ze as default};
